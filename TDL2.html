<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>To Do List</title>
<link
 href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
 rel="stylesheet">
<style>
.task-bar {
  width: 100%;
  background-color: #f8f9fa;
  padding: 10px;
  margin-bottom: 5px;
}
.subtask-bar {
  width: 66.6%;
  background-color: #e9ecef;
  padding: 10px;
  margin-left: 33.3%;
  margin-bottom: 5px;
}
.design-bar button {
  margin-right: 5px;
}
</style>
</head>
<body>
<div class="container-fluid">
  <!-- Design Bar -->
  <div class="row design-bar">
    <div class="col">
      <button onclick="formatText('bold')">Bold</button>
      <button onclick="formatText('italic')">Italic</button>
      <button onclick="formatText('color')">Color</button>
      <button onclick="formatText('font')">Font</button>
    </div>
  </div>
  <!-- Progress Bar -->
  <div class="row">
    <div class="col">
      <div class="progress">
        <div id="progressBar" class="progress-bar" role="progressbar"
         style="width: 0%;"></div>
      </div>
    </div>
  </div>
  <!-- Sidebar and Content -->
  <div class="row">
    <div class="col-md-2">
      <ul class="list-group">
        <li class="list-group-item active" onclick="showToDo()">To Do List</li>
        <li class="list-group-item" onclick="showHistory()">History</li>
      </ul>
    </div>
    <div class="col-md-10">
      <!-- Add Task Button -->
      <button class="btn btn-primary my-2" onclick="addTask()">Add Task</button>
      <div id="contentArea">
        <div id="taskList"></div>
      </div>
    </div>
  </div>
</div>
<script>
let taskCounter = 0;
let completedTasks = 0;
let totalTasks = 0;
let history = [];

function addTask() {
  totalTasks++;
  let taskId = 'task' + taskCounter++;
  let taskDiv = document.createElement('div');
  taskDiv.className = 'task-bar';
  taskDiv.id = taskId;
  taskDiv.innerHTML = `
    <textarea placeholder="New Task"></textarea>
    <div class="text-right">
      <button onclick="addSubtask('${taskId}')">Add Subtask</button>
      <button onclick="editTask('${taskId}')">Edit</button>
      <button onclick="deleteTask('${taskId}')">Delete</button>
      <button onclick="completeTask('${taskId}')">Complete</button>
    </div>
  `;
  document.getElementById('taskList').appendChild(taskDiv);
  logHistory('Added task', taskId);
}

function addSubtask(parentId) {
  let subtaskDiv = document.createElement('div');
  subtaskDiv.className = 'subtask-bar';
  subtaskDiv.innerHTML = `
    <textarea placeholder="New Subtask"></textarea>
    <div class="text-right">
      <button onclick="editSubtask(this)">Edit</button>
      <button onclick="deleteSubtask(this)">Delete</button>
      <button onclick="completeSubtask(this)">Complete</button>
    </div>
  `;
  document.getElementById(parentId).appendChild(subtaskDiv);
  logHistory('Added subtask to ' + parentId, '');
}

function deleteTask(taskId) {
  document.getElementById(taskId).remove();
  totalTasks--;
  updateProgress();
  logHistory('Deleted task', taskId);
}

function editTask(taskId) {
  // Implement edit functionality
  logHistory('Edited task', taskId);
}

function completeTask(taskId) {
  completedTasks++;
  document.getElementById(taskId).style.textDecoration = 'line-through';
  updateProgress();
  logHistory('Completed task', taskId);
}

function deleteSubtask(element) {
  element.parentElement.parentElement.remove();
  logHistory('Deleted subtask', '');
}

function editSubtask(element) {
  // Implement edit functionality
  logHistory('Edited subtask', '');
}

function completeSubtask(element) {
  element.parentElement.parentElement.style.textDecoration = 'line-through';
  logHistory('Completed subtask', '');
}

function updateProgress() {
  let progress = (completedTasks / totalTasks) * 100;
  document.getElementById('progressBar').style.width = progress + '%';
}

function formatText(command) {
  // Implement text formatting
}

function showHistory() {
  let contentArea = document.getElementById('contentArea');
  contentArea.innerHTML = '<h3>History</h3>';
  history.forEach(entry => {
    let p = document.createElement('p');
    p.textContent = entry;
    contentArea.appendChild(p);
  });
}

function showToDo() {
  document.getElementById('contentArea').innerHTML = '';
  let taskList = document.createElement('div');
  taskList.id = 'taskList';
  document.getElementById('contentArea').appendChild(taskList);
}

function logHistory(action, id) {
  let timestamp = new Date().toLocaleString();
  history.push(`${timestamp}: ${action} ${id}`);
}
</script>
</body>
</html>




